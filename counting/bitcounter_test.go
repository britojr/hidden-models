package counting

type datapack struct {
	card   []int
	lines  [][]int
	valMap map[int]int
}

var dp1 = datapack{
	// var: 0, 1, 2, 3
	[]int{2, 3, 2, 4},
	[][]int{
		//		stride: 1, 2, 6, 12
		{0, 0, 0, 0}, //               = 0
		{0, 2, 0, 2}, //2*2 + 2*12     = 28
		{1, 0, 1, 3}, //1+ 1*6 + 3*12  = 43
		{0, 0, 1, 1}, //6 + 12         = 18
		{0, 2, 0, 1}, //2*2 + 12       = 16
		{1, 1, 1, 1}, //1 +2 +6 +12    = 21
		{1, 2, 0, 3}, //1 +2*2 + 3*12  = 41
		{0, 1, 1, 0}, //2+6            = 8
		{0, 0, 1, 1}, //1*6 +1*12      = 18
		{0, 0, 0, 0}, //               = 0
		{0, 0, 1, 1}, //1*6 +1*12      = 18
	},
	map[int]int{
		0:  2,
		8:  1,
		16: 1,
		18: 3,
		21: 1,
		28: 1,
		41: 1,
		43: 1,
	},
}

var valTests = []datapack{
	dp1,
}

type change struct {
	d   datapack
	in  []int
	out map[int]int
}

var margTests = []change{
	{
		dp1, []int{1, 3},
		map[int]int{
			0:  2,
			1:  1,
			3:  3,
			4:  1,
			5:  1,
			8:  1,
			9:  1,
			11: 1,
		},
	},
}

var sumOutTests = []change{
	{
		dp1, []int{1},
		map[int]int{
			0:  2,
			2:  1,
			4:  1,
			6:  3,
			7:  1,
			8:  1,
			13: 1,
			15: 1,
		},
	},
}

/* marg 1, 3
  3  4       1  3
{ 0, 0}, //        =0
{ 2, 2}, //  2  6  =8
{ 0, 3}, //     9  =9
{ 0, 1}, //     3  =3
{ 2, 1}, //  2  3  =5
{ 1, 1}, //  1  3  =4
{ 2, 3}, //  2  9  =11
{ 1, 0}, //  1     =1
{ 0, 1}, //  0  3  =3
{ 0, 0}, //  0     =0
{ 0, 1}, //  0  3  =3

 sumout 1
 2  2  4     1 2 4
{0, 0, 0}, //0 0 0 = 0
{0, 0, 2}, //0 0 8 = 8
{1, 1, 3}, //1 2 12= 15
{0, 1, 1}, //0 2 4 = 6
{0, 0, 1}, //0 0 4 = 4
{1, 1, 1}, //1 2 4 = 7
{1, 0, 3}, //1 0 12= 13
{0, 1, 0}, //0 2 0 = 2
{0, 1, 1}, //0 2 4 = 6
{0, 0, 0}, //0 0 0 = 0
{0, 1, 1}, //0 2 4 = 6
*/
